{"version":3,"sources":["webpack:///src/components/Home/PersonalCenter/BindAccount.vue","webpack:///./src/components/Home/PersonalCenter/BindAccount.vue?dfc5","webpack:///./src/components/Home/PersonalCenter/BindAccount.vue"],"names":["BindAccount","name","data","active","count","applyForm","code","newTelNum","rules","required","message","trigger","methods","submitForm","formName","_this","this","$refs","validate","valid","info","phone","$store","getters","userInfo","Object","user","then","res","status","$notify","title","msg","type","offset","sendCode","that","begin","setInterval","clearInterval","PersonalCenter_BindAccount","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","_v","ref","model","label-width","label","prop","span","value","callback","$$v","$set","expression","_e","_s","disabled","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"uHAoCAA,GACAC,KAAA,eACAC,KAFA,WAGA,OACAC,QAAA,EACAC,MAAA,EACAC,WACAC,KAAA,GACAC,UAAA,IAEAC,OACAF,OAAAG,UAAA,EAAAC,QAAA,SAAAC,QAAA,SACAJ,YACAE,UAAA,EAAAC,QAAA,cAAAC,QAAA,YAKAC,SACAC,WADA,SACAC,GAAA,IAAAC,EAAAC,KACAA,KAAAC,MAAAH,GAAAI,SAAA,SAAAC,GACA,IAAAA,EAwBA,SAvBA,IAAAC,GACAC,MAAAN,EAAAO,OAAAC,QAAAC,SAAAH,MACAf,KAAAS,EAAAV,UAAAC,MAEUmB,OAAAC,EAAA,EAAAD,CAAVL,GAAAO,KAAA,SAAAC,GACAA,EAAAC,OAEAd,EAAAe,SACAC,MAAA,OACArB,QAAAkB,EAAAI,IACAC,KAAA,UACAC,OAAA,KAGAnB,EAAAe,SACAC,MAAA,OACArB,QAAAkB,EAAAI,IACAC,KAAA,QACAC,OAAA,UASAC,SA/BA,WAgCA,IAAAC,EAAApB,KAEMS,OAAAC,EAAA,EAAAD,CAANT,KAAAM,OAAAC,QAAAC,SAAAH,OAAAM,KAAA,SAAAC,GACA,GAAAA,EAAAC,OAAA,CAEAO,EAAAjC,QAAA,EACAiC,EAAAhC,MAAA,IACA,IAAAiC,EAAAC,YAAA,WACAF,EAAAhC,QACAgC,EAAAhC,MAAA,IACAmC,cAAAF,GACAD,EAAAjC,QAAA,IAEA,WChGeqC,GADEC,OAFjB,WAA0B,IAAAC,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,cAAiBH,EAAA,OAAYI,YAAA,UAAoBP,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,KAAAL,EAAA,cAAiDI,YAAA,eAAyBP,EAAAQ,GAAA,KAAAL,EAAA,OAAwBI,YAAA,YAAsBJ,EAAA,OAAYI,YAAA,cAAwBJ,EAAA,WAAgBM,IAAA,YAAAF,YAAA,gBAAAF,OAAmDK,MAAAV,EAAArC,UAAAG,MAAAkC,EAAAlC,MAAA6C,cAAA,WAA+DR,EAAA,gBAAqBE,OAAOO,MAAA,MAAAC,KAAA,UAA6BV,EAAA,UAAeE,OAAOS,KAAA,MAAWX,EAAA,YAAiBO,OAAOK,MAAAf,EAAArC,UAAA,KAAAqD,SAAA,SAAAC,GAAoDjB,EAAAkB,KAAAlB,EAAArC,UAAA,OAAAsD,IAAqCE,WAAA,qBAA8B,GAAAnB,EAAAQ,GAAA,KAAAL,EAAA,UAA+BE,OAAOS,KAAA,MAAWd,EAAAvC,OAAAuC,EAAAoB,KAAAjB,EAAA,QAAAH,EAAAQ,GAAAR,EAAAqB,GAAArB,EAAAtC,OAAA,UAAAsC,EAAAQ,GAAA,KAAAL,EAAA,aAAmGE,OAAOd,KAAA,UAAA+B,UAAAtB,EAAAvC,QAAwC8D,IAAKC,MAAAxB,EAAAP,YAAsBO,EAAAQ,GAAA,sBAAAR,EAAAQ,GAAA,KAAAL,EAAA,gBAA8DE,OAAOO,MAAA,QAAAC,KAAA,eAAoCV,EAAA,YAAiBO,OAAOK,MAAAf,EAAArC,UAAA,UAAAqD,SAAA,SAAAC,GAAyDjB,EAAAkB,KAAAlB,EAAArC,UAAA,YAAAsD,IAA0CE,WAAA,0BAAmC,GAAAnB,EAAAQ,GAAA,KAAAL,EAAA,gBAAAA,EAAA,aAAqDE,OAAOd,KAAA,WAAiBgC,IAAKC,MAAA,SAAAC,GAAyB,OAAAzB,EAAA7B,WAAA,iBAAqC6B,EAAAQ,GAAA,6BAE7wCkB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvE,EACAwC,GATF,EAVA,SAAAgC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.e3d7c2d5fdca4860e119.js","sourcesContent":["<template>\n  <div id=\"userInfo\">\n    <div class=\"title\">更换手机号</div>\n    <el-divider class=\"line-style\"></el-divider>\n    <div class=\"contain\">\n      <div class=\"form-card\">\n        <el-form\n          :model=\"applyForm\"\n          :rules=\"rules\"\n          ref=\"applyForm\"\n          label-width=\"120px\"\n          class=\"demo-ruleForm\"\n        >\n          <el-form-item label=\"验证码\" prop=\"code\">\n            <el-col :span=\"11\">\n              <el-input v-model=\"applyForm.code\"></el-input>\n            </el-col>\n            <el-col :span=\"11\">\n              <span v-if=\"!active\">{{count}}秒后重试</span>\n              <el-button type=\"primary\" @click=\"sendCode\" :disabled=\"!active\">向本机发生验证码</el-button>\n            </el-col>\n          </el-form-item>\n          <el-form-item label=\"新手机号码\" prop=\"newTelNum\">\n            <el-input v-model=\"applyForm.newTelNum\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"submitForm('applyForm')\">确认更改</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { sendSms, editPhone, verificationPhone } from '../../../api/user'\nexport default {\n  name: 'bind-account',\n  data () {\n    return {\n      active: true,\n      count: 0,\n      applyForm: {\n        code: '',\n        newTelNum: ''\n      },\n      rules: {\n        code: [{ required: true, message: '请输入验证码', trigger: 'blur' }],\n        newTelNum: [\n          { required: true, message: '请输入新绑定的手机号码', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    submitForm (formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          let info = {\n            phone: this.$store.getters.userInfo.phone,\n            code: this.applyForm.code\n          }\n          verificationPhone(info).then(res => {\n            if (res.status) {\n              // console.log(res)\n              this.$notify({\n                title: '操作提示',\n                message: res.msg,\n                type: 'success',\n                offset: 70\n              })\n            } else {\n              this.$notify({\n                title: '操作提示',\n                message: res.msg,\n                type: 'error',\n                offset: 70\n              })\n            }\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    sendCode () {\n      let that = this\n      // 发送验证码\n      sendSms(this.$store.getters.userInfo.phone).then(res => {\n        if (res.status) {\n          // 计数器\n          that.active = false\n          that.count = 120\n          let begin = setInterval(function () {\n            that.count--\n            if (that.count < 1) {\n              clearInterval(begin)\n              that.active = true\n            }\n          }, 1000)\n        }\n      })\n\n      // console.log(this.$store.getters.userInfo.phone);\n    }\n  }\n}\n</script>\n\n<style scoped>\n#userInfo {\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n}\n\n.form-card {\n  width: 100%;\n  height: 500px;\n  padding-top: 30px;\n}\n\n.title {\n  font-size: 16px;\n  height: 40px;\n  line-height: 40px;\n  width: 100%;\n}\n\n.line-style {\n  margin: 8px 0;\n}\n\n.contain {\n  width: 100%;\n  padding: 10px 40px;\n  min-height: 635px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Home/PersonalCenter/BindAccount.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"userInfo\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"更换手机号\")]),_vm._v(\" \"),_c('el-divider',{staticClass:\"line-style\"}),_vm._v(\" \"),_c('div',{staticClass:\"contain\"},[_c('div',{staticClass:\"form-card\"},[_c('el-form',{ref:\"applyForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.applyForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"code\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-input',{model:{value:(_vm.applyForm.code),callback:function ($$v) {_vm.$set(_vm.applyForm, \"code\", $$v)},expression:\"applyForm.code\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[(!_vm.active)?_c('span',[_vm._v(_vm._s(_vm.count)+\"秒后重试\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.active},on:{\"click\":_vm.sendCode}},[_vm._v(\"向本机发生验证码\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"新手机号码\",\"prop\":\"newTelNum\"}},[_c('el-input',{model:{value:(_vm.applyForm.newTelNum),callback:function ($$v) {_vm.$set(_vm.applyForm, \"newTelNum\", $$v)},expression:\"applyForm.newTelNum\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('applyForm')}}},[_vm._v(\"确认更改\")])],1)],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7fea6a7d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home/PersonalCenter/BindAccount.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7fea6a7d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BindAccount.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BindAccount.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BindAccount.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7fea6a7d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BindAccount.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7fea6a7d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home/PersonalCenter/BindAccount.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}