{"version":3,"sources":["webpack:///src/components/Home/PersonalCenter/order/OrderList.vue","webpack:///./src/api/order.js","webpack:///./src/components/Home/PersonalCenter/order/OrderList.vue?ee22","webpack:///./src/components/Home/PersonalCenter/order/OrderList.vue"],"names":["OrderList","data","statusTxt","pageNum","total","pageSize","orderList","loading","isEmpty","props","watch","state","n","o","this","requestData","resetStatusTxt","methods","status","_this","request","url","method","params","then","res","$parent","addClass","index","records","length","$message","error","msg","getOrderByPage","pageCurrentChange","val","onDeleteOrder","id","_this2","$confirm","confirmButtonText","cancelButtonText","type","deleteOrder","splice","onCancelOrder","_this3","cancelOrder","onDeleteWasteInfo","_this4","deleteWasteInfo","mounted","order_OrderList","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","element-loading-text","element-loading-spinner","element-loading-background","staticClass","staticStyle","font-size","color","_v","_e","_l","order","key","margin-right","_s","orderId","creatTime","classification","classificationName","gutter","span","width","height","background","src","wasteInfo","photos","preview-src-list","text-align","display","justify-content","align-items","slot","fit","weight","expectedPrice","address","line-height","describe","underline","on","click","$event","margin","user","nikeName","phone","layout","page-size","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.84933bf62563122be3d7.js","sourcesContent":["<template>\n  <div id=\"order-list\" v-loading=\"loading\" element-loading-text=\"拼命加载中\" element-loading-spinner=\"el-icon-loading\"\n    element-loading-background=\"rgba(0, 0, 0, 0)\">\n    <div v-if=\"isEmpty\" class=\"data-empty\">\n      <span v-if=\"state==0\" style=\"font-size: 16px;color: #93999f;\">暂无任何未被接的订单</span>\n      <span v-if=\"state==1\" style=\"font-size: 16px;color: #93999f;\">暂无任何进行中的订单</span>\n      <span v-if=\"state==2\" style=\"font-size: 16px;color: #93999f;\">暂无任何已完成的订单</span>\n      <span v-if=\"state==3\" style=\"font-size: 16px;color: #93999f;\">暂无任何已取消的订单</span>\n    </div>\n    <el-card class=\"order-item\" v-for=\"(order,index) in orderList\" :key=\"order.id\">\n      <p class=\"myorder-number\" v-if=\"state!=0\"><i class=\"el-icon-tickets\" style=\"color:#61D2B4;margin-right: 10px;font-size: 14px;\"></i><span>订单编号：{{order.orderId}}</span><span\n          class=\"date\">下单日期：{{order.creatTime}}</span></p>\n      <p class=\"myorder-number\" v-else><span>分类：{{order.classification.classificationName}}</span><span class=\"date\">发布日期：{{order.creatTime}}</span></p>\n      <el-row :gutter=\"10\" class=\"contain\">\n        <el-col :span=\"6\" v-if=\"state!=0\">\n          <!-- 状态不同，数据结构不同，数据接口封装有问题 -->\n          <el-image style=\"width: 100%; height: 120px;background: #F5F7FA;\" :src=\"order.wasteInfo.photos\"\n            :preview-src-list=\"[order.wasteInfo.photos]\">\n            <div slot=\"error\" style=\"height: 100%;text-align: center;display: flex;justify-content: center;align-items: center;\">\n              <i class=\"el-icon-picture-outline\"></i>\n            </div>\n          </el-image>\n        </el-col>\n        <el-col :span=\"6\" v-else>\n          <!-- 状态不同，数据结构不同，数据接口封装有问题 -->\n          <el-image style=\"width: 100%; height: 120px;background: #F5F7FA;\" :src=\"order.photos\" fit=\"cover\"\n            :preview-src-list=\"[order.photos]\">\n            <div slot=\"error\" style=\"height: 100%;text-align: center;display: flex;justify-content: center;align-items: center;\">\n              <i class=\"el-icon-picture-outline\"></i>\n            </div>\n          </el-image>\n        </el-col>\n        <!-- 状态不同，数据结构不同，数据接口封装有问题 -->\n        <el-col :span=\"6\" v-if=\"state!=0\">\n          <div class=\"grid-content\">\n            <p><span>重量：</span><span class=\"span-color\">{{order.wasteInfo.weight}}kg</span></p>\n            <p><span>期望价格：</span><span class=\"span-color\">￥{{order.wasteInfo.expectedPrice}}</span></p>\n            <p><span>实付金额：</span><span class=\"span-color\">￥0.00</span></p>\n            <p>卖家地址：{{order.wasteInfo.address}}</p>\n          </div>\n        </el-col>\n        <el-col :span=\"6\" v-else>\n          <div class=\"grid-content\">\n            <p><span>重量：</span><span class=\"span-color\">{{order.weight}}kg</span></p>\n            <p><span>期望价格：</span><span class=\"span-color\">￥{{order.expectedPrice}}</span></p>\n            <p><span>实付金额：</span><span class=\"span-color\">￥0.00</span></p>\n            <p>卖家地址：{{order.address}}</p>\n          </div>\n        </el-col>\n        <el-col :span=\"8\" v-if=\"state!=0\">\n          <div class=\"grid-content\">\n            <p style=\"line-height: 18px;\"><b>描述：</b>{{order.wasteInfo.describe}}</p>\n          </div>\n        </el-col>\n        <el-col :span=\"8\" v-else>\n          <div class=\"grid-content\">\n            <p style=\"line-height: 18px;\"><b>描述：</b>{{order.describe}}</p>\n          </div>\n        </el-col>\n        <el-col :span=\"4\">\n          <div class=\"grid-content col-right\">\n            <p style=\"font-size: 14px;\">{{statusTxt}}</p>\n            <el-link :underline=\"false\" class=\"cancel-order\" v-if=\"state==0\" style=\"color: #93999f;\" @click=\"onDeleteWasteInfo(order.id,index)\">删除</el-link>\n            <el-link :underline=\"false\" class=\"cancel-order\" v-if=\"state==1\" style=\"color: #93999f;\" @click=\"onCancelOrder(order.id,index)\">取消订单</el-link>\n            <el-link :underline=\"false\" class=\"cancel-order\" v-if=\"state==2|state==3\" style=\"color: #93999f;\" @click=\"onDeleteOrder(order.id,index)\">删除订单</el-link>\n          </div>\n        </el-col>\n      </el-row>\n      <p class=\"order-info\" style=\"display: inline-block;\" v-if=\"state!=0\"><span>买家信息</span><span style=\"margin: 0px 10px;\">|</span><span>昵称：{{order.user.nikeName}}</span><span\n          class=\"phone\">电话：{{order.user.phone}}</span></p>\n    </el-card>\n    <el-pagination v-if=\"orderList.length!=0\" background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\"\n      style=\"width: 95%;text-align: center;\" @current-change=\"pageCurrentChange\">\n    </el-pagination>\n  </div>\n</template>\n<script>\nimport {\n  getOrderByPage,\n  getWasteInfoByPage,\n  deleteOrder,\n  cancelOrder,\n  deleteWasteInfo\n} from '@/api/order.js'\nexport default {\n  data () {\n    return {\n      statusTxt: '',\n      pageNum: 1,\n      total: 4,\n      pageSize: 2,\n      orderList: [],\n      loading: false,\n      isEmpty: false\n    }\n  },\n  props: ['state', 'index'],\n  watch: {\n    state (n, o) {\n      if (n !== o) {\n        this.pageNum = 1\n        // 网络请求\n        this.requestData(this.state)\n        this.resetStatusTxt(this.state)\n      }\n    }\n  },\n  methods: {\n    // state订单状态(1已接单，2已完成，3取消)\n    // 0表示未接单的(即废品信息)\n    requestData (state) {\n      this.loading = true\n      this.isEmpty = false\n      this.orderList = []\n      if (state === 0) {\n        getWasteInfoByPage(this.pageNum, this.pageSize, 0).then((res) => {\n          if (res.status) {\n            this.$parent.addClass(this.index)\n            this.total = res.total\n            this.orderList = res.records\n            if (res.records.length === 0) {\n              this.isEmpty = true\n            }\n          } else {\n            this.$message.error(res.msg)\n          }\n          this.loading = false\n        })\n      } else {\n        getOrderByPage(this.pageNum, this.pageSize, state).then((res) => {\n          if (res.status) {\n            this.$parent.addClass(this.index)\n            this.total = res.total\n            this.orderList = res.records\n            if (res.records.length === 0) {\n              this.isEmpty = true\n            }\n          } else {\n            this.$message.error(res.msg)\n          }\n          this.loading = false\n        })\n      }\n    },\n    resetStatusTxt (state) {\n      switch (state) {\n        case 0:\n          this.statusTxt = '未接单'\n          break\n        case 1:\n          this.statusTxt = '进行中'\n          break\n        case 2:\n          this.statusTxt = '已完成'\n          break\n        case 3:\n          this.statusTxt = '已取消'\n          break\n      }\n    },\n    // 当前页改变调用函数\n    pageCurrentChange (val) {\n      this.pageNum = val\n      this.requestData(this.state)\n    },\n    /**\n       *  删除订单函数\n       * @param {Object} id 订单的id\n       */\n    onDeleteOrder (id, index) {\n      this.$confirm('永久删除后，将无法再查看该订单，请谨慎操作！', '确定要删除该订单吗?', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteOrder(id).then((res) => {\n          if (res.status) {\n            this.orderList.splice(index, 1)\n            if (this.orderList.length === 0) {\n              this.pageNum--\n            }\n            this.requestData(this.state)\n          } else {\n            this.$message.error('删除失败！')\n          }\n        })\n      })\n    },\n    /**\n       * 取消订单函数\n       * @param {Object} id 订单的id\n       */\n    onCancelOrder (id, index) {\n      this.$confirm('取消后将重新等待商家购买，请谨慎操作！！', '确定要取消该订单吗?', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        cancelOrder(id).then((res) => {\n          if (res.status) {\n            this.orderList.splice(index, 1)\n            if (this.orderList.length === 0) {\n              this.pageNum--\n            }\n            this.requestData(this.state)\n          } else {\n            this.$message.error('取消失败！')\n          }\n        })\n      })\n    },\n    /**\n       * 删除废品信息的函数\n       * @param {Object} id 废品信息的id\n       */\n    onDeleteWasteInfo (id, index) {\n      this.$confirm('删除后将无法出售，请谨慎操作！', '确定要删除该废品吗?', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteWasteInfo(id).then((res) => {\n          if (res.status) {\n            this.orderList.splice(index, 1)\n            if (this.orderList.length === 0) {\n              this.pageNum--\n            }\n            this.requestData(this.state)\n          } else {\n            this.$message.error('删除失败！')\n          }\n        })\n      })\n    }\n  },\n  mounted () {\n    this.requestData(this.state)\n    this.resetStatusTxt(this.state)\n  }\n}\n</script>\n\n<style scoped>\n  p {\n    margin: 0;\n    font-size: 12px;\n    line-height: 24px;\n  }\n\n  #order-list {\n    width: 100%;\n    min-height: 500px;\n  }\n\n  .img_icon_error {\n    height: 100%;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .order-item {\n    width: 95%;\n    margin-bottom: 25px;\n  }\n\n  .myorder-number {\n    padding-bottom: 5px;\n    font-size: 12px;\n    border-bottom: 1px solid #b7bbbf;\n  }\n\n  .order-info {\n    margin: 0;\n    padding-top: 5px;\n    font-size: 12px;\n  }\n\n  .img-block {\n    width: 100%;\n    height: 100px;\n    background: #F5F7FA;\n  }\n\n  .el-col {\n    overflow: hidden;\n  }\n\n  .order-item .date,\n  .order-item .phone {\n    margin-left: 20px;\n  }\n\n  .contain {\n    width: 100%;\n    height: 150px;\n    padding-top: 10px;\n  }\n\n  .grid-content {\n    min-height: 120px;\n  }\n\n  .span-color {\n    color: #f01414;\n  }\n\n  .col-right {\n    border-left: 1px solid #b7bbbf;\n    text-align: center;\n    padding: 40px 0px;\n  }\n\n  .cancel-order {\n    display: block;\n    font-size: 12px;\n    line-height: 12px;\n    margin-top: 10px;\n  }\n\n  .data-empty {\n    width: 100%;\n    height: 350px;\n    line-height: 350px;\n    background: #F8FAFC;\n    border-radius: 10px;\n    text-align: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Home/PersonalCenter/order/OrderList.vue","import request from '@/utils/request'\r\n/**\r\n * 分页查询订单api\r\n * @param {Object} pageNum 页数\r\n * @param {Object} pageSize 每页数据条数\r\n * @param {Object} state 订单状态(1已接单，2已完成，3取消)\r\n */\r\nexport function getOrderByPage(pageNum,pageSize,state){\r\n  return request({\r\n    url:'/clien/order/list',\r\n    method:'get',\r\n    params:{\r\n      pageNum,\r\n      pageSize,\r\n      state\r\n    }\r\n  })\r\n}\r\n// 注意get请求用params,post请求用data\r\n/**\r\n * 分页查询废品信息api\r\n * @param {Object} pageNum\r\n * @param {Object} pageSize\r\n */\r\nexport function getWasteInfoByPage(pageNum,pageSize,status){\r\n  return request({\r\n    url:'/clien/wasteInformation/list',\r\n    method:'get',\r\n    params:{\r\n      pageNum,\r\n      pageSize,\r\n      status// 表示废品信息\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 根据订单id删除订单\r\n * @param {Object} id 订单id\r\n */\r\nexport function deleteOrder(id){\r\n  return request({\r\n    url: '/clien/order/delete',\r\n    method: 'get',\r\n    params: {id}\r\n  })\r\n}\r\n\r\n/**\r\n * 根据订单id取消除订单\r\n * @param {Object} id 订单id\r\n */\r\nexport function cancelOrder(id){\r\n  return request({\r\n    url: '/clien/order/cancel',\r\n    method: 'get',\r\n    params: {id}\r\n  })\r\n}\r\n/**\r\n * 删除废品信息的api\r\n * @param {Object} id 废品信息id\r\n */\r\nexport function deleteWasteInfo(id) {\r\n  return request({\r\n    url:'/clien/wasteInformation/delete',\r\n    method:'get',\r\n    params:{id}\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/order.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"order-list\",\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0)\"}},[(_vm.isEmpty)?_c('div',{staticClass:\"data-empty\"},[(_vm.state==0)?_c('span',{staticStyle:{\"font-size\":\"16px\",\"color\":\"#93999f\"}},[_vm._v(\"暂无任何未被接的订单\")]):_vm._e(),_vm._v(\" \"),(_vm.state==1)?_c('span',{staticStyle:{\"font-size\":\"16px\",\"color\":\"#93999f\"}},[_vm._v(\"暂无任何进行中的订单\")]):_vm._e(),_vm._v(\" \"),(_vm.state==2)?_c('span',{staticStyle:{\"font-size\":\"16px\",\"color\":\"#93999f\"}},[_vm._v(\"暂无任何已完成的订单\")]):_vm._e(),_vm._v(\" \"),(_vm.state==3)?_c('span',{staticStyle:{\"font-size\":\"16px\",\"color\":\"#93999f\"}},[_vm._v(\"暂无任何已取消的订单\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.orderList),function(order,index){return _c('el-card',{key:order.id,staticClass:\"order-item\"},[(_vm.state!=0)?_c('p',{staticClass:\"myorder-number\"},[_c('i',{staticClass:\"el-icon-tickets\",staticStyle:{\"color\":\"#61D2B4\",\"margin-right\":\"10px\",\"font-size\":\"14px\"}}),_c('span',[_vm._v(\"订单编号：\"+_vm._s(order.orderId))]),_c('span',{staticClass:\"date\"},[_vm._v(\"下单日期：\"+_vm._s(order.creatTime))])]):_c('p',{staticClass:\"myorder-number\"},[_c('span',[_vm._v(\"分类：\"+_vm._s(order.classification.classificationName))]),_c('span',{staticClass:\"date\"},[_vm._v(\"发布日期：\"+_vm._s(order.creatTime))])]),_vm._v(\" \"),_c('el-row',{staticClass:\"contain\",attrs:{\"gutter\":10}},[(_vm.state!=0)?_c('el-col',{attrs:{\"span\":6}},[_c('el-image',{staticStyle:{\"width\":\"100%\",\"height\":\"120px\",\"background\":\"#F5F7FA\"},attrs:{\"src\":order.wasteInfo.photos,\"preview-src-list\":[order.wasteInfo.photos]}},[_c('div',{staticStyle:{\"height\":\"100%\",\"text-align\":\"center\",\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"},attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])])],1):_c('el-col',{attrs:{\"span\":6}},[_c('el-image',{staticStyle:{\"width\":\"100%\",\"height\":\"120px\",\"background\":\"#F5F7FA\"},attrs:{\"src\":order.photos,\"fit\":\"cover\",\"preview-src-list\":[order.photos]}},[_c('div',{staticStyle:{\"height\":\"100%\",\"text-align\":\"center\",\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"},attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])])],1),_vm._v(\" \"),(_vm.state!=0)?_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content\"},[_c('p',[_c('span',[_vm._v(\"重量：\")]),_c('span',{staticClass:\"span-color\"},[_vm._v(_vm._s(order.wasteInfo.weight)+\"kg\")])]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(\"期望价格：\")]),_c('span',{staticClass:\"span-color\"},[_vm._v(\"￥\"+_vm._s(order.wasteInfo.expectedPrice))])]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(\"实付金额：\")]),_c('span',{staticClass:\"span-color\"},[_vm._v(\"￥0.00\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"卖家地址：\"+_vm._s(order.wasteInfo.address))])])]):_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content\"},[_c('p',[_c('span',[_vm._v(\"重量：\")]),_c('span',{staticClass:\"span-color\"},[_vm._v(_vm._s(order.weight)+\"kg\")])]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(\"期望价格：\")]),_c('span',{staticClass:\"span-color\"},[_vm._v(\"￥\"+_vm._s(order.expectedPrice))])]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(\"实付金额：\")]),_c('span',{staticClass:\"span-color\"},[_vm._v(\"￥0.00\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"卖家地址：\"+_vm._s(order.address))])])]),_vm._v(\" \"),(_vm.state!=0)?_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('p',{staticStyle:{\"line-height\":\"18px\"}},[_c('b',[_vm._v(\"描述：\")]),_vm._v(_vm._s(order.wasteInfo.describe))])])]):_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('p',{staticStyle:{\"line-height\":\"18px\"}},[_c('b',[_vm._v(\"描述：\")]),_vm._v(_vm._s(order.describe))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content col-right\"},[_c('p',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(_vm._s(_vm.statusTxt))]),_vm._v(\" \"),(_vm.state==0)?_c('el-link',{staticClass:\"cancel-order\",staticStyle:{\"color\":\"#93999f\"},attrs:{\"underline\":false},on:{\"click\":function($event){return _vm.onDeleteWasteInfo(order.id,index)}}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),(_vm.state==1)?_c('el-link',{staticClass:\"cancel-order\",staticStyle:{\"color\":\"#93999f\"},attrs:{\"underline\":false},on:{\"click\":function($event){return _vm.onCancelOrder(order.id,index)}}},[_vm._v(\"取消订单\")]):_vm._e(),_vm._v(\" \"),(_vm.state==2|_vm.state==3)?_c('el-link',{staticClass:\"cancel-order\",staticStyle:{\"color\":\"#93999f\"},attrs:{\"underline\":false},on:{\"click\":function($event){return _vm.onDeleteOrder(order.id,index)}}},[_vm._v(\"删除订单\")]):_vm._e()],1)])],1),_vm._v(\" \"),(_vm.state!=0)?_c('p',{staticClass:\"order-info\",staticStyle:{\"display\":\"inline-block\"}},[_c('span',[_vm._v(\"买家信息\")]),_c('span',{staticStyle:{\"margin\":\"0px 10px\"}},[_vm._v(\"|\")]),_c('span',[_vm._v(\"昵称：\"+_vm._s(order.user.nikeName))]),_c('span',{staticClass:\"phone\"},[_vm._v(\"电话：\"+_vm._s(order.user.phone))])]):_vm._e()],1)}),_vm._v(\" \"),(_vm.orderList.length!=0)?_c('el-pagination',{staticStyle:{\"width\":\"95%\",\"text-align\":\"center\"},attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"page-size\":_vm.pageSize},on:{\"current-change\":_vm.pageCurrentChange}}):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b140495\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home/PersonalCenter/order/OrderList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b140495\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrderList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b140495\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrderList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b140495\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home/PersonalCenter/order/OrderList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}