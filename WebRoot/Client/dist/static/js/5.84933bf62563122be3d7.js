webpackJsonp([5],{IdKK:function(t,e){},yhsf:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("vLgD");var n={data:function(){return{statusTxt:"",pageNum:1,total:4,pageSize:2,orderList:[],loading:!1,isEmpty:!1}},props:["state","index"],watch:{state:function(t,e){t!==e&&(this.pageNum=1,this.requestData(this.state),this.resetStatusTxt(this.state))}},methods:{requestData:function(t){var e,s,n,i=this;this.loading=!0,this.isEmpty=!1,this.orderList=[],0===t?(e=this.pageNum,s=this.pageSize,n=0,Object(a.a)({url:"/clien/wasteInformation/list",method:"get",params:{pageNum:e,pageSize:s,status:n}})).then(function(t){t.status?(i.$parent.addClass(i.index),i.total=t.total,i.orderList=t.records,0===t.records.length&&(i.isEmpty=!0)):i.$message.error(t.msg),i.loading=!1}):function(t,e,s){return Object(a.a)({url:"/clien/order/list",method:"get",params:{pageNum:t,pageSize:e,state:s}})}(this.pageNum,this.pageSize,t).then(function(t){t.status?(i.$parent.addClass(i.index),i.total=t.total,i.orderList=t.records,0===t.records.length&&(i.isEmpty=!0)):i.$message.error(t.msg),i.loading=!1})},resetStatusTxt:function(t){switch(t){case 0:this.statusTxt="未接单";break;case 1:this.statusTxt="进行中";break;case 2:this.statusTxt="已完成";break;case 3:this.statusTxt="已取消"}},pageCurrentChange:function(t){this.pageNum=t,this.requestData(this.state)},onDeleteOrder:function(t,e){var s=this;this.$confirm("永久删除后，将无法再查看该订单，请谨慎操作！","确定要删除该订单吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(function(t){return Object(a.a)({url:"/clien/order/delete",method:"get",params:{id:t}})})(t).then(function(t){t.status?(s.orderList.splice(e,1),0===s.orderList.length&&s.pageNum--,s.requestData(s.state)):s.$message.error("删除失败！")})})},onCancelOrder:function(t,e){var s=this;this.$confirm("取消后将重新等待商家购买，请谨慎操作！！","确定要取消该订单吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(function(t){return Object(a.a)({url:"/clien/order/cancel",method:"get",params:{id:t}})})(t).then(function(t){t.status?(s.orderList.splice(e,1),0===s.orderList.length&&s.pageNum--,s.requestData(s.state)):s.$message.error("取消失败！")})})},onDeleteWasteInfo:function(t,e){var s=this;this.$confirm("删除后将无法出售，请谨慎操作！","确定要删除该废品吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(function(t){return Object(a.a)({url:"/clien/wasteInformation/delete",method:"get",params:{id:t}})})(t).then(function(t){t.status?(s.orderList.splice(e,1),0===s.orderList.length&&s.pageNum--,s.requestData(s.state)):s.$message.error("删除失败！")})})}},mounted:function(){this.requestData(this.state),this.resetStatusTxt(this.state)}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"order-list","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0)"}},[t.isEmpty?s("div",{staticClass:"data-empty"},[0==t.state?s("span",{staticStyle:{"font-size":"16px",color:"#93999f"}},[t._v("暂无任何未被接的订单")]):t._e(),t._v(" "),1==t.state?s("span",{staticStyle:{"font-size":"16px",color:"#93999f"}},[t._v("暂无任何进行中的订单")]):t._e(),t._v(" "),2==t.state?s("span",{staticStyle:{"font-size":"16px",color:"#93999f"}},[t._v("暂无任何已完成的订单")]):t._e(),t._v(" "),3==t.state?s("span",{staticStyle:{"font-size":"16px",color:"#93999f"}},[t._v("暂无任何已取消的订单")]):t._e()]):t._e(),t._v(" "),t._l(t.orderList,function(e,a){return s("el-card",{key:e.id,staticClass:"order-item"},[0!=t.state?s("p",{staticClass:"myorder-number"},[s("i",{staticClass:"el-icon-tickets",staticStyle:{color:"#61D2B4","margin-right":"10px","font-size":"14px"}}),s("span",[t._v("订单编号："+t._s(e.orderId))]),s("span",{staticClass:"date"},[t._v("下单日期："+t._s(e.creatTime))])]):s("p",{staticClass:"myorder-number"},[s("span",[t._v("分类："+t._s(e.classification.classificationName))]),s("span",{staticClass:"date"},[t._v("发布日期："+t._s(e.creatTime))])]),t._v(" "),s("el-row",{staticClass:"contain",attrs:{gutter:10}},[0!=t.state?s("el-col",{attrs:{span:6}},[s("el-image",{staticStyle:{width:"100%",height:"120px",background:"#F5F7FA"},attrs:{src:e.wasteInfo.photos,"preview-src-list":[e.wasteInfo.photos]}},[s("div",{staticStyle:{height:"100%","text-align":"center",display:"flex","justify-content":"center","align-items":"center"},attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])])],1):s("el-col",{attrs:{span:6}},[s("el-image",{staticStyle:{width:"100%",height:"120px",background:"#F5F7FA"},attrs:{src:e.photos,fit:"cover","preview-src-list":[e.photos]}},[s("div",{staticStyle:{height:"100%","text-align":"center",display:"flex","justify-content":"center","align-items":"center"},attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])])],1),t._v(" "),0!=t.state?s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content"},[s("p",[s("span",[t._v("重量：")]),s("span",{staticClass:"span-color"},[t._v(t._s(e.wasteInfo.weight)+"kg")])]),t._v(" "),s("p",[s("span",[t._v("期望价格：")]),s("span",{staticClass:"span-color"},[t._v("￥"+t._s(e.wasteInfo.expectedPrice))])]),t._v(" "),s("p",[s("span",[t._v("实付金额：")]),s("span",{staticClass:"span-color"},[t._v("￥0.00")])]),t._v(" "),s("p",[t._v("卖家地址："+t._s(e.wasteInfo.address))])])]):s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content"},[s("p",[s("span",[t._v("重量：")]),s("span",{staticClass:"span-color"},[t._v(t._s(e.weight)+"kg")])]),t._v(" "),s("p",[s("span",[t._v("期望价格：")]),s("span",{staticClass:"span-color"},[t._v("￥"+t._s(e.expectedPrice))])]),t._v(" "),s("p",[s("span",[t._v("实付金额：")]),s("span",{staticClass:"span-color"},[t._v("￥0.00")])]),t._v(" "),s("p",[t._v("卖家地址："+t._s(e.address))])])]),t._v(" "),0!=t.state?s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content"},[s("p",{staticStyle:{"line-height":"18px"}},[s("b",[t._v("描述：")]),t._v(t._s(e.wasteInfo.describe))])])]):s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content"},[s("p",{staticStyle:{"line-height":"18px"}},[s("b",[t._v("描述：")]),t._v(t._s(e.describe))])])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content col-right"},[s("p",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.statusTxt))]),t._v(" "),0==t.state?s("el-link",{staticClass:"cancel-order",staticStyle:{color:"#93999f"},attrs:{underline:!1},on:{click:function(s){return t.onDeleteWasteInfo(e.id,a)}}},[t._v("删除")]):t._e(),t._v(" "),1==t.state?s("el-link",{staticClass:"cancel-order",staticStyle:{color:"#93999f"},attrs:{underline:!1},on:{click:function(s){return t.onCancelOrder(e.id,a)}}},[t._v("取消订单")]):t._e(),t._v(" "),2==t.state|3==t.state?s("el-link",{staticClass:"cancel-order",staticStyle:{color:"#93999f"},attrs:{underline:!1},on:{click:function(s){return t.onDeleteOrder(e.id,a)}}},[t._v("删除订单")]):t._e()],1)])],1),t._v(" "),0!=t.state?s("p",{staticClass:"order-info",staticStyle:{display:"inline-block"}},[s("span",[t._v("买家信息")]),s("span",{staticStyle:{margin:"0px 10px"}},[t._v("|")]),s("span",[t._v("昵称："+t._s(e.user.nikeName))]),s("span",{staticClass:"phone"},[t._v("电话："+t._s(e.user.phone))])]):t._e()],1)}),t._v(" "),0!=t.orderList.length?s("el-pagination",{staticStyle:{width:"95%","text-align":"center"},attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize},on:{"current-change":t.pageCurrentChange}}):t._e()],2)},staticRenderFns:[]};var r=s("VU/8")(n,i,!1,function(t){s("IdKK")},"data-v-7b140495",null);e.default=r.exports}});
//# sourceMappingURL=5.84933bf62563122be3d7.js.map