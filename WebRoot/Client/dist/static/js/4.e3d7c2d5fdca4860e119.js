webpackJsonp([4],{"2kEt":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("vMJZ"),n={name:"bind-account",data:function(){return{active:!0,count:0,applyForm:{code:"",newTelNum:""},rules:{code:[{required:!0,message:"请输入验证码",trigger:"blur"}],newTelNum:[{required:!0,message:"请输入新绑定的手机号码",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r={phone:t.$store.getters.userInfo.phone,code:t.applyForm.code};Object(s.o)(r).then(function(e){e.status?t.$notify({title:"操作提示",message:e.msg,type:"success",offset:70}):t.$notify({title:"操作提示",message:e.msg,type:"error",offset:70})})})},sendCode:function(){var e=this;Object(s.k)(this.$store.getters.userInfo.phone).then(function(t){if(t.status){e.active=!1,e.count=120;var r=setInterval(function(){e.count--,e.count<1&&(clearInterval(r),e.active=!0)},1e3)}})}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"userInfo"}},[r("div",{staticClass:"title"},[e._v("更换手机号")]),e._v(" "),r("el-divider",{staticClass:"line-style"}),e._v(" "),r("div",{staticClass:"contain"},[r("div",{staticClass:"form-card"},[r("el-form",{ref:"applyForm",staticClass:"demo-ruleForm",attrs:{model:e.applyForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"验证码",prop:"code"}},[r("el-col",{attrs:{span:11}},[r("el-input",{model:{value:e.applyForm.code,callback:function(t){e.$set(e.applyForm,"code",t)},expression:"applyForm.code"}})],1),e._v(" "),r("el-col",{attrs:{span:11}},[e.active?e._e():r("span",[e._v(e._s(e.count)+"秒后重试")]),e._v(" "),r("el-button",{attrs:{type:"primary",disabled:!e.active},on:{click:e.sendCode}},[e._v("向本机发生验证码")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"新手机号码",prop:"newTelNum"}},[r("el-input",{model:{value:e.applyForm.newTelNum,callback:function(t){e.$set(e.applyForm,"newTelNum",t)},expression:"applyForm.newTelNum"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("applyForm")}}},[e._v("确认更改")])],1)],1)],1)])],1)},staticRenderFns:[]};var a=r("VU/8")(n,o,!1,function(e){r("WKn6")},"data-v-7fea6a7d",null);t.default=a.exports},WKn6:function(e,t){}});
//# sourceMappingURL=4.e3d7c2d5fdca4860e119.js.map